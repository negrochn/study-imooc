# 什么是面向对象

**什么是面向对象**

- 概念
- 三要素：继承、封装、多态
- JS 的应用举例
- 面向对象的意义



**概念**

- 类，可以通过 new 方式创建很多对象

  ```js
  // 类，即模板
  class Person {
    constructor(name, age) {
      this.name = name
      this.age = age
    }
    eat() {
      console.log(`${this.name} eat something.`)
    }
    speak() {
      console.log(`My name is ${this.name}, ${this.age} years old.`)
    }
  }
  ```

- 对象（实例），实例有属性和方法

  ```js
  // 创建实例
  const p1 = new Person('negrochn', 18)
  p1.eat() // negrochn eat something.
  p1.speak() // My name is negrochn, 18 years old.
  
  const p2 = new Person('lexiaodai', 17)
  p2.eat()
  p2.speak()
  ```



**三要素**

- 继承，子类继承父类
- 封装，数据的权限和保密
- 多态，同一接口不同实现



**继承**

- Person 是父类，公共的，不仅仅服务于 Student
- 继承可以将公共方法抽离出来，提高复用，减少冗余

```js
// 子类继承父类
class Student extends Person {
  constructor(name, age, studentId) {
    super(name, age)
    this.studentId = studentId
  }
  study() {
    console.log(`${this.name} is studying.`)
  }
}

const s1 = new Student('negrochn', 18, '02954')
s1.study() // negrochn is studying.
console.log(s1.studentId) // 02954
s1.eat() // negrochn eat something.
s1.speak() // My name is negrochn, 18 years old.
```



**封装**

- public 完全开放
- protected 对子类开放
- private 对自己开放
- 减少耦合，不该外露的不外露
- 利于数据、接口的权限管理
- ES6 目前不支持，一般认为 _ 开头的属性是 private

```typescript
// ES6 尚不支持，可以用 TS 演示。
// 将以下代码拷贝至 https://www.tslang.cn/play/index.html
class Person {
    public name: string
    protected age: number

    constructor(name, age) {
        this.name = name
        this.age = age
    }
}

class Student extends Person {
    private studentId: string
    constructor(name, age, studentId) {
        super(name, age)
        this.studentId = studentId
    }
    getStudentId() {
        return this.studentId
    }
    getAge() {
        return this.age
    }
}

const s1 = new Student('negrochn', 18, '02954')
console.log(s1.getStudentId()) // 02954
console.log(s1.getAge()) // 18
console.log(s1.name) // negrochn
console.log(s1.studentId) // Property 'studentId' is private and only accessible within class 'Student'.
console.log(s1.age) // Property 'age' is protected and only accessible within class 'Person' and its subclasses.
```



**多态**

- 同一个接口，不同表现
- JS 应用极少
- 需要结合 Java 等语言的接口、重写、重载等功能
- 保持子类的开放性和灵活性
- 面向接口编程
- （ JS 引用极少，了解即可）

```js
class Person {
  constructor(name, age) {
    this.name = name
    this.age = age
  }
  speak() {
    console.log(`My name is ${this.name}, ${this.age} years old.`)
  }
}

// 子类继承父类
class Student extends Person {
  constructor(name, age, studentId) {
    super(name, age)
    this.studentId = studentId
  }
  speak() {
    console.log(`My student id is ${this.studentId}.`)
  }
}

class Teacher extends Person {
  constructor(name, age, subject) {
    super(name, age)
    this.subject = subject
  }
  speak() {
    console.log(`I'am a ${this.subject} teacher.`)
  }
}

const s1 = new Student('negrochn', 18, '02954')
s1.speak() // My student id is 02954.
const t1 = new Teacher('lexiaodai', 17, 'english')
t1.speak() // I'am a english teacher.
```

