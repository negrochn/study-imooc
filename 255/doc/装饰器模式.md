# 装饰器模式

**介绍**

- 为对象添加新功能
- 不改其原有的结构和功能



**演示**

![](https://github.com/negrochn/study-imooc/blob/master/255/img/uml-decorator.jpg)

```js
class Circle {
  draw() {
    console.log('画一个圆')
  }
}

class Decorator {
  constructor(circle) {
    this.circle = circle
  }
  draw() {
    this.circle.draw()
    this.setRedBorder(this.circle)
  }
  setRedBorder(circle) {
    console.log('设置红色边框')
  }
}

const c = new Circle()
const d = new Decorator(c)

d.draw()
```



**场景**

- ES7 装饰器
- core-decorators



ES7 装饰器

- 配置环境
- 装饰类
- 装饰方法

执行 `npm i -D @babel/plugin-proposal-decorators` 安装 @babel/plugin-proposal-decorators 插件，配置 .babelrc 。

```json
{
  "presets": ["@babel/preset-env"],
  "plugins": [
    ["@babel/plugin-proposal-decorators", { "legacy": true }]
  ]
}
```

```js
@testDec
class Demo {

}

function testDec(target) {
  target.isDec = true
}

console.log(Demo.isDec)
```



**设计原则验证**